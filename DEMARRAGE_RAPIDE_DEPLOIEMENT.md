# ‚ö° D√©marrage Rapide - D√©ploiement en 30 Minutes

## üéØ Vue d'Ensemble

```
1. MongoDB Atlas (10 min) ‚Üí Base de donn√©es
2. Render (10 min)        ‚Üí Backend API
3. Vercel (10 min)        ‚Üí Frontend
```

---

## √âTAPE 1: MongoDB Atlas (10 min)

### Actions Rapides

1. **Cr√©er compte** ‚Üí [MongoDB Atlas](https://www.mongodb.com/cloud/atlas)
2. **Build Database** ‚Üí M0 (Free) ‚Üí AWS ‚Üí Region proche
3. **Database Access** ‚Üí Add User:
   - Username: `profiremanager_admin`
   - Password: [G√©n√©rer et NOTER]
4. **Network Access** ‚Üí Add IP: `0.0.0.0/0`
5. **Connect** ‚Üí Drivers ‚Üí Python ‚Üí Copier la string:
   ```
   mongodb+srv://profiremanager_admin:MOT_DE_PASSE@cluster.xxxxx.mongodb.net/profiremanager?retryWrites=true&w=majority
   ```

‚úÖ **Connection String pr√™te!**

---

## √âTAPE 2: Render (10 min)

### Actions Rapides

1. **Cr√©er compte** ‚Üí [Render](https://render.com)
2. **New** ‚Üí **Web Service**
3. **Connect GitHub** ‚Üí S√©lectionner repo ProFireManager
4. **Configuration**:
   ```
   Name: profiremanager-backend
   Build Command: pip install -r backend/requirements.txt
   Start Command: cd backend && uvicorn server:app --host 0.0.0.0 --port $PORT
   ```
5. **Environment Variables** (Advanced):
   ```
   MONGO_URL = [Votre connection string MongoDB]
   JWT_SECRET = [G√©n√©rer: openssl rand -hex 32]
   SUPER_ADMIN_EMAIL = gussdub@icloud.com
   ```
6. **Create Web Service**

‚è≥ Attendre 3-5 minutes...

‚úÖ **Backend d√©ploy√©**: `https://profiremanager-backend.onrender.com`

### Test Rapide
```
https://profiremanager-backend.onrender.com/docs
```
‚Üí Devrait afficher Swagger UI

---

## √âTAPE 3: Vercel (10 min)

### Actions Rapides

1. **Cr√©er compte** ‚Üí [Vercel](https://vercel.com)
2. **Import Project** ‚Üí S√©lectionner repo ProFireManager
3. **Configuration**:
   ```
   Framework Preset: Vite
   Root Directory: frontend
   Build Command: yarn build
   Output Directory: dist
   ```
4. **Environment Variables**:
   ```
   REACT_APP_BACKEND_URL = https://profiremanager-backend.onrender.com
   ```
   ‚ö†Ô∏è Remplacer par VOTRE URL Render!

5. **Deploy**

‚è≥ Attendre 2-3 minutes...

‚úÖ **Frontend d√©ploy√©**: `https://profiremanager.vercel.app`

---

## √âTAPE 4: Initialisation (5 min)

### Via Postman ou curl

```bash
curl -X POST https://profiremanager-backend.onrender.com/api/admin/initialize-demo-data
```

OU cr√©er l'endpoint temporairement dans `server.py`:
```python
@api_router.post("/admin/initialize-demo-data")
async def initialize_demo():
    await initialize_multi_tenant()
    return {"status": "success"}
```

---

## √âTAPE 5: Test Final (5 min)

### 1. Super-Admin

URL: `https://profiremanager.vercel.app`

```
Email: gussdub@icloud.com
Mot de passe: 230685Juin+
```

‚úÖ Dashboard super-admin devrait s'afficher

### 2. Caserne Shefford

URL: `https://profiremanager.vercel.app/shefford`

```
Email: admin@firemanager.ca
Mot de passe: admin123
```

‚úÖ Dashboard Shefford devrait s'afficher

---

## üö® D√©pannage Rapide

### Backend ne d√©marre pas
```bash
# Check logs Render Dashboard
# V√©rifier requirements.txt complet
```

### Frontend 404 partout
```bash
# V√©rifier vercel.json pr√©sent √† la racine
# Red√©ployer: vercel --prod
```

### Cannot connect to MongoDB
```bash
# V√©rifier mot de passe dans connection string
# V√©rifier Network Access: 0.0.0.0/0
# Tester avec MongoDB Compass
```

### CORS Error
```python
# Dans server.py, ajouter dans allow_origins:
"https://profiremanager.vercel.app",
"https://votre-domaine.com"
```

---

## üìã Checklist Finale

- [ ] MongoDB Atlas cr√©√© et accessible
- [ ] Backend Render d√©ploy√© et /docs fonctionne
- [ ] Frontend Vercel d√©ploy√© et accessible
- [ ] Variables d'environnement configur√©es
- [ ] Donn√©es initialis√©es
- [ ] Login super-admin OK
- [ ] Login caserne OK
- [ ] Tous les modules fonctionnent

---

## üéâ C'est Termin√©!

Votre application est maintenant en ligne et accessible mondialement!

**URLs**:
- Frontend: `https://profiremanager.vercel.app`
- Backend: `https://profiremanager-backend.onrender.com`
- API Docs: `https://profiremanager-backend.onrender.com/docs`

**Prochaines √©tapes** (optionnel):
1. Configurer un domaine personnalis√©
2. Mettre √† jour le mot de passe super-admin
3. Cr√©er vos vraies casernes
4. Inviter vos utilisateurs

---

## üí° Conseils Production

### Performance
- Les services Render Free s'endorment apr√®s 15min
- Temps de r√©veil: ~30 secondes
- Consid√©rer Render Starter ($7/mois) pour production

### S√©curit√©
‚úÖ HTTPS activ√© automatiquement (Vercel & Render)
‚úÖ JWT pour authentification
‚ö†Ô∏è Changer le mot de passe super-admin!
‚ö†Ô∏è G√©n√©rer un JWT_SECRET fort unique

### Monitoring
- Render: Logs en temps r√©el dans dashboard
- Vercel: Analytics disponible
- MongoDB Atlas: Metrics de performance

---

**Besoin d'aide?**  
Consultez `GUIDE_DEPLOIEMENT_PRODUCTION.md` pour le guide complet d√©taill√©.
